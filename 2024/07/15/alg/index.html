<!DOCTYPE html>
<html lang='en'>

<head>
  <meta name="generator" content="Hexo 6.3.0">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://fastly.jsdelivr.net'>
  <link rel="preconnect" href="https://fastly.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  <title>coursera UNIT 1 - zennlyu</title>

  
    <meta name="description" content="ELEMENTARY SORT‣ rules of the gameSample sort client 1Goal. Sort any type of data. Ex 1. Sort random real numbers in ascending order.  seems artificial, but stay tuned for an application  123456789101">
<meta property="og:type" content="article">
<meta property="og:title" content="coursera UNIT 1">
<meta property="og:url" content="http://example.com/2024/07/15/alg/index.html">
<meta property="og:site_name" content="zennlyu">
<meta property="og:description" content="ELEMENTARY SORT‣ rules of the gameSample sort client 1Goal. Sort any type of data. Ex 1. Sort random real numbers in ascending order.  seems artificial, but stay tuned for an application  123456789101">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/Users/mac/github/zennlyu.github.io/hexo/source/_posts/coursera-ELEMENTARY%20SORTS/callback.png">
<meta property="og:image" content="http://example.com/2024/07/15/alg/sq.png">
<meta property="og:image" content="http://example.com/2024/07/15/alg/warmapi.png">
<meta property="og:image" content="http://example.com/2024/07/15/alg/bytes.png">
<meta property="og:image" content="http://example.com/2024/07/15/alg/array.png">
<meta property="og:image" content="http://example.com/2024/07/15/alg/push.png">
<meta property="og:image" content="http://example.com/2024/07/15/alg/trace.png">
<meta property="og:image" content="http://example.com/2024/07/15/alg/resize.png">
<meta property="og:image" content="http://example.com/2024/07/15/alg/one-quarter.png">
<meta property="og:image" content="http://example.com/2024/07/15/alg/linked-list.png">
<meta property="og:image" content="http://example.com/Users/mac/github/zennlyu.github.io/hexo/source/_posts/coursera-BAGS,%20QUEUES,%20AND%20STACKS/queue.png">
<meta property="og:image" content="http://example.com/Users/mac/github/zennlyu.github.io/hexo/source/_posts/coursera-BAGS,%20QUEUES,%20AND%20STACKS/bag.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/standard_plot.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/log-log.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/hyp.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/double-hyp1.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/double-hyp2.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/exp-anly.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/mathmodel.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/dscrtmath.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/orderofgrowth.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/classification.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/notation.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/dataobj.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/virgin-string.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/UF.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/weight.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/quick-union.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/log.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/log.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/id.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/percolation.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/perrcolations.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/p*.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/opensite.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/top-down.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/per.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/perco.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/site-vacancy.png">
<meta property="og:image" content="http://example.com/Users/zenn/zennlyu.github.io/hexo/source/_posts/opensites.png">
<meta property="article:published_time" content="2024-07-15T03:58:26.058Z">
<meta property="article:modified_time" content="2024-07-16T04:09:58.112Z">
<meta property="article:author" content="zennlyu">
<meta property="article:tag" content="princeton-alg">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/Users/mac/github/zennlyu.github.io/hexo/source/_posts/coursera-ELEMENTARY%20SORTS/callback.png">
  
  

  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  

  


  
</head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='post'>
    


<header class="header">

<div class="logo-wrap"><a class="avatar" href="/about/"><div class="bg" style="opacity:0;background-image:url(https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.2/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="https://i.imgtg.com/2022/07/09/eTtVL.jpg" onerror="javascript:this.classList.add('error');this.src='https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/image/2659360.svg';"></a><a class="title" href="/"><div class="main">zennlyu</div></a></div>
<nav class="menu dis-select"><a class="nav-item active" href="/">Blog</a><a class="nav-item" href="/more/">更多</a></nav></header>

<div class="widgets">

<div class="widget-wrap single" id="toc"><div class="widget-header cap dis-select"><span class="name">TOC</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Sample-sort-client-1"><span class="toc-text">Sample sort client 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sample-sort-client-2"><span class="toc-text">Sample sort client 2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sample-sort-client-3"><span class="toc-text">Sample sort client 3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Callbacks"><span class="toc-text">Callbacks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Callbacks-roadmaps"><span class="toc-text">Callbacks: roadmaps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Total-order"><span class="toc-text">Total order</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Ex"><span class="toc-text">Ex.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Surprising-but-true"><span class="toc-text">Surprising but true.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Comparable-API"><span class="toc-text">Comparable API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Implement-compareTo-so-that-v-compareTo-w"><span class="toc-text">Implement compareTo() so that v.compareTo(w)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Built-in-comparable-types"><span class="toc-text">Built-in comparable types.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-defined-comparable-types"><span class="toc-text">User-defined comparable types.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Implementing-the-Comparable-interface"><span class="toc-text">Implementing the Comparable interface</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Two-useful-sorting-abstractions"><span class="toc-text">Two useful sorting abstractions</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-selection-sort"><span class="toc-text">‣ selection sort</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-insertion-sort"><span class="toc-text">‣ insertion sort</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-shellsort"><span class="toc-text">‣ shellsort</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-shuffling"><span class="toc-text">‣ shuffling</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-convex-hull"><span class="toc-text">‣ convex hull</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Client-implementation-interface"><span class="toc-text">Client, implementation, interface</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Benefits"><span class="toc-text">Benefits.</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-stacks"><span class="toc-text">‣ stacks</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Warmup-API-Stack-of-strings-data-type"><span class="toc-text">Warmup API. Stack of strings data type.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Warmup-client-Reverse-sequence-of-strings-from-standard-input"><span class="toc-text">Warmup client. Reverse sequence of strings from standard input</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Stack-linked-list-representation"><span class="toc-text">Stack: linked-list representation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Stack-linked-list-implementation-performance"><span class="toc-text">Stack: linked-list implementation performance</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Stack-array-implementation"><span class="toc-text">Stack: array implementation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Array-implementation-of-a-stack"><span class="toc-text">Array implementation of a stack.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Defect"><span class="toc-text">Defect.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Stack-considerations"><span class="toc-text">Stack considerations</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Overflow-and-underflow"><span class="toc-text">Overflow and underflow.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Null-items-We-allow-null-items-to-be-inserted"><span class="toc-text">Null items: We allow null items to be inserted.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Loitering-Holding-a-reference-to-an-object-when-it-is-no-longer-needed"><span class="toc-text">Loitering: Holding a reference to an object when it is no longer needed.</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-resizing-arrays"><span class="toc-text">‣ resizing arrays</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Stack-resizing-array-implementation"><span class="toc-text">Stack: resizing-array implementation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Q-How-to-grow-and-shrink-array"><span class="toc-text">Q. How to grow and shrink array?</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#First-try"><span class="toc-text">First try.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Too-expensive"><span class="toc-text">Too expensive.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Challenge-Ensure-that-array-resizing-happens-infrequently"><span class="toc-text">Challenge: Ensure that array resizing happens infrequently.</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Q-How-to-grow-array"><span class="toc-text">Q. How to grow array?</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#A"><span class="toc-text">A.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Consequence"><span class="toc-text">Consequence.</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Q-How-to-shrink-array"><span class="toc-text">Q. How to shrink array?</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#First-try%EF%BC%9AToo-expensive-in-worst-case"><span class="toc-text">First try：Too expensive in worst case.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Efficient-try"><span class="toc-text">Efficient try.</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#performance"><span class="toc-text">performance</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Amortized-analysis"><span class="toc-text">Amortized analysis.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Proposition"><span class="toc-text">Proposition.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#memory-usage"><span class="toc-text">memory usage</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Proposition-1"><span class="toc-text">Proposition.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#resizing-array-vs-linked-list"><span class="toc-text">resizing array vs. linked list</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Tradeoffs"><span class="toc-text">Tradeoffs.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Linked-list-implementation"><span class="toc-text">Linked-list implementation.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Resizing-array-implementation"><span class="toc-text">Resizing-array implementation.</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-queues"><span class="toc-text">‣ queues</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-generics"><span class="toc-text">‣ generics</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-iterators"><span class="toc-text">‣ iterators</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Design-challenge"><span class="toc-text">Design challenge</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Iterators"><span class="toc-text">Iterators</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Stack-iterator-linked-list-implementation"><span class="toc-text">Stack iterator: linked-list implementation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Stack-iterator-array-implementation"><span class="toc-text">Stack iterator: array implementation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bag-API"><span class="toc-text">Bag API</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-applications"><span class="toc-text">‣ applications</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-collections-library"><span class="toc-text">Java collections library</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#List-interface"><span class="toc-text">List interface.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Implementations"><span class="toc-text">Implementations.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#java-util-Stack"><span class="toc-text">java.util.Stack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#War-story-from-Assignment-1"><span class="toc-text">War story (from Assignment 1)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Generate-random-open-sites-in-an-N-by-N-percolation-system"><span class="toc-text">Generate random open sites in an N-by-N percolation system.</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Stack-applications"><span class="toc-text">Stack applications</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Function-Calls"><span class="toc-text">Function Calls</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Stake-holder"><span class="toc-text">Stake holder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Successes"><span class="toc-text">Successes</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#FFT-algorithm-Discrete-Fourier-transform"><span class="toc-text">FFT algorithm: Discrete Fourier transform.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Barnes-Hut-algorithm-N-Body-Stimulation"><span class="toc-text">Barnes-Hut algorithm: N-Body Stimulation</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Scientific-method"><span class="toc-text">Scientific method</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Principles"><span class="toc-text">Principles</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-3-SUM-Brute-force-Algorithm"><span class="toc-text">Example 3-SUM : Brute-force Algorithm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Messure-Running-Time"><span class="toc-text">Messure Running Time</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Empirical-analysis"><span class="toc-text">Empirical analysis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-analysis"><span class="toc-text">Data analysis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Prediction-and-validation"><span class="toc-text">Prediction and validation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Doubling-hypothesis-Quick-way-to-estimate-b-in-a-power-law-relationship"><span class="toc-text">Doubling hypothesis - Quick way to estimate b in a power-law relationship</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Experimental-algorithmics"><span class="toc-text">Experimental algorithmics</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%A3-Mathematical-models-for-running-time"><span class="toc-text">‣ Mathematical models for running time</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-1-SUM"><span class="toc-text">Example 1-SUM:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-2-SUM"><span class="toc-text">Example 2-SUM</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Q-How-many-instructions-as-a-function-of-input-size-N"><span class="toc-text">Q. How many instructions as a function of input size N ?</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Simplification-of-calculation%EF%BC%9A"><span class="toc-text">Simplification of calculation：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Q-Approximately-how-many-array-accesses-as-a-function-of-input-size-N"><span class="toc-text">Q. Approximately how many array accesses as a function of input size N ?</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-3-SUM"><span class="toc-text">Example 3-SUM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Estimating-a-discrete-sum"><span class="toc-text">Estimating a discrete sum</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%A3-Order-of-growth-classifications"><span class="toc-text">‣ Order-of-growth classifications</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%A3-theory-of-algorithms"><span class="toc-text">‣ theory of algorithms</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Type-of-analyses"><span class="toc-text">Type of analyses</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Goals"><span class="toc-text">Goals:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Approach"><span class="toc-text">Approach.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Optimal-algorithm"><span class="toc-text">Optimal algorithm.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Commonly-used-notations"><span class="toc-text">Commonly-used notations</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Algorithm-design-approach"><span class="toc-text">Algorithm design approach</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Start"><span class="toc-text">Start.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Gap"><span class="toc-text">Gap?</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Golden-Age-of-Algorithm-Design"><span class="toc-text">Golden Age of Algorithm Design.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Caveats"><span class="toc-text">Caveats.</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%A3-memory"><span class="toc-text">‣ memory</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Basics"><span class="toc-text">Basics</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Typical-memory-usage-for-primitive-types-and-arrays"><span class="toc-text">Typical memory usage for primitive types and arrays</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#for-primitive-types"><span class="toc-text">for primitive types</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#for-one-dimensional-arrays"><span class="toc-text">for one-dimensional arrays</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#for-two-dimensional-arrays"><span class="toc-text">for two-dimensional arrays</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Typical-memory-usage-for-objects-in-Java"><span class="toc-text">Typical memory usage for objects in Java</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Memory-Usage-Summary"><span class="toc-text">Memory Usage Summary</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Given-a-set-of-N-objects"><span class="toc-text">Given a set of N objects.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Modeling-the-objects"><span class="toc-text">Modeling the objects</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Modeling-the-connections"><span class="toc-text">Modeling the connections</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Implementing-the-operations"><span class="toc-text">Implementing the operations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Union-find-data-type-API"><span class="toc-text">Union-find data type (API)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dynamic-connectivity-client"><span class="toc-text">Dynamic-connectivity client</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-QUICK-FIND"><span class="toc-text">‣ QUICK-FIND</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Eager-approach"><span class="toc-text">Eager approach</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-Structure"><span class="toc-text">Data Structure</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Find"><span class="toc-text">Find.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Union"><span class="toc-text">Union.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Quick-Find-is-too-slow"><span class="toc-text">Quick-Find is too slow</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Quadratic-algorithms-do-not-scale"><span class="toc-text">Quadratic algorithms do not scale</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-QUICK-UNION"><span class="toc-text">‣ QUICK-UNION</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Lazy-approach"><span class="toc-text">Lazy approach</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-structure"><span class="toc-text">Data structure</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Find-1"><span class="toc-text">Find.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Union-1"><span class="toc-text">Union.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Quick-union-is-also-too-slow"><span class="toc-text">Quick-union is also too slow</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Quick-find-defect"><span class="toc-text">Quick-find defect.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Quick-union-defect"><span class="toc-text">Quick-union defect.</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-IMPROVEMENT"><span class="toc-text">‣ IMPROVEMENT</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Weighted-quick-union"><span class="toc-text">1 Weighted quick-union.</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Quick-union-and-weighted-quick-union-example"><span class="toc-text">Quick-union and weighted quick-union example</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Weighted-quick-union-Java-implementation"><span class="toc-text">Weighted quick-union: Java implementation</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Data-structure-1"><span class="toc-text">Data structure.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Find-2"><span class="toc-text">Find.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Union-2"><span class="toc-text">Union.</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Weighted-quick-union-analysis"><span class="toc-text">Weighted quick-union analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Running-time"><span class="toc-text">Running time.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Proposition-2"><span class="toc-text">Proposition.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Pf-When-does-depth-of-x-increase"><span class="toc-text">Pf. When does depth of x increase?</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Improvement-2-path-compression"><span class="toc-text">Improvement 2: path compression</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Quick-union-with-path-compression"><span class="toc-text">Quick union with path compression.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Path-compression-Java-implementation"><span class="toc-text">Path compression: Java implementation</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Two-pass-implementation"><span class="toc-text">Two-pass implementation:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Simpler-one-pass-variant"><span class="toc-text">Simpler one-pass variant:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#In-practice"><span class="toc-text">In practice.</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Weighted-quick-union-with-path-compression-amortized-analysis"><span class="toc-text">Weighted quick-union with path compression: amortized analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Proposition-Hopcroft-Ulman-Tarjan"><span class="toc-text">Proposition. |[Hopcroft-Ulman, Tarjan]</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Linear-time-algorithm-for-M-union-find-ops-on-N-objects"><span class="toc-text">Linear-time algorithm for M union-find ops on N objects?</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Amazing-fact-Fredman-Saks"><span class="toc-text">Amazing fact. |[Fredman-Saks]</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Summary"><span class="toc-text">Summary</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Bottom-line"><span class="toc-text">Bottom line.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Ex-109-unions-and-finds-with-109-objects"><span class="toc-text">Ex. | [109 unions and finds with 109 objects]</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A3-APPLICATIONS"><span class="toc-text">‣ APPLICATIONS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Union-find-applications"><span class="toc-text">Union-find applications</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Percolation"><span class="toc-text">Percolation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A-model-for-many-physical-systems"><span class="toc-text">A model for many physical systems:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Likelihood-of-percolation"><span class="toc-text">Likelihood of percolation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Percolation-phase-transition"><span class="toc-text">Percolation phase transition</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Monte-Carlo-simulation"><span class="toc-text">Monte Carlo simulation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Dynamic-connectivity-solution-to-estimate-percolation-threshold"><span class="toc-text">Dynamic connectivity solution to estimate percolation threshold</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Q-How-to-check-whether-an-N-by-N-system-percolates"><span class="toc-text">Q. How to check whether an N-by-N system percolates?</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Q-How-to-check-whether-an-N-by-N-system-percolates-1"><span class="toc-text">Q. How to check whether an N-by-N system percolates?</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Clever-trick"><span class="toc-text">Clever trick.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Q-How-to-model-opening-a-new-site"><span class="toc-text">Q. How to model opening a new site?</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Percolation-Exercise"><span class="toc-text">Percolation Exercise</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Java-Environment"><span class="toc-text">Java Environment</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Percolation-1"><span class="toc-text">Percolation.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#The-model"><span class="toc-text">The model.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#The-problem"><span class="toc-text">The problem.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Percolation-data-type"><span class="toc-text">Percolation data type.</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Corner-cases"><span class="toc-text">Corner cases.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Performance-requirements"><span class="toc-text">Performance requirements.</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Monte-Carlo-simulation-1"><span class="toc-text">Monte Carlo simulation.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Analysis-of-running-time-and-memory-usage-optional-and-not-graded"><span class="toc-text">Analysis of running time and memory usage (optional and not graded).</span></a></li></ol></li></ol></div></div></div>


</div>


    </aside>
    <div class='l_main'>
      

      


<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">Home</a><span class="sep"></span><a class="cap breadcrumb" href="/">Blog</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/algorithms/">algorithms</a></div><div id="post-meta">Posted on&nbsp;<time datetime="2024-07-15T03:58:26.058Z">2024-07-15</time></div></div>

<article class='content md post'>
<h1 class="article-title"><span>coursera UNIT 1</span></h1>
<h1 id="ELEMENTARY-SORT‣-rules-of-the-game"><a href="#ELEMENTARY-SORT‣-rules-of-the-game" class="headerlink" title="ELEMENTARY SORT‣ rules of the game"></a>ELEMENTARY SORT‣ rules of the game</h1><h3 id="Sample-sort-client-1"><a href="#Sample-sort-client-1" class="headerlink" title="Sample sort client 1"></a>Sample sort client 1</h3><p>Goal. Sort any type of data.</p>
<p>Ex 1. Sort random real numbers in ascending order.</p>
<blockquote>
<p>seems artificial, but stay tuned for an application</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Experiment</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> Integer.parseInt(args[<span class="number">0</span>]); </span><br><span class="line">        Double[] a = <span class="keyword">new</span> <span class="title class_">Double</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">            a[i] = StdRandom.uniform();</span><br><span class="line">        Insertion.sort(a);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">            StdOut.println(a[i]):</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Sample-sort-client-2"><a href="#Sample-sort-client-2" class="headerlink" title="Sample sort client 2"></a>Sample sort client 2</h3><p>Ex 2. Sort strings from file in alphabetical order.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringSorter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">    &#123;</span><br><span class="line">        String[] a = In.readStrings(args[<span class="number">0</span>]); </span><br><span class="line">        Insertion.sort(a);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length; i++)</span><br><span class="line">            StdOut.println(a[i]);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Sample-sort-client-3"><a href="#Sample-sort-client-3" class="headerlink" title="Sample sort client 3"></a>Sample sort client 3</h3><p>Ex 3. Sort the files in a given directory by filename.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileSorter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">directory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(args[<span class="number">0</span>]);</span><br><span class="line">        File[] files = directory.listFiles();</span><br><span class="line">        Insertion.sort(files);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; files.length; i++)</span><br><span class="line">            StdOut.println(files[i].getName());</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Callbacks"><a href="#Callbacks" class="headerlink" title="Callbacks"></a>Callbacks</h3><p>Q. How can sort() know how to compare data of type Double, String, and java.io.File without any information about the type of an item’s key?</p>
<p>Callback = reference to executable code.</p>
<ul>
<li>Client passes array of objects to sort() function.</li>
<li>The sort() function calls back object’s compareTo() method as needed.</li>
</ul>
<p>Implementing callbacks.</p>
<ul>
<li>Java: interfaces.</li>
<li>C: function pointers.</li>
<li>C++: class-type functors.</li>
<li>C#: delegates.</li>
<li>Python, Perl, ML, Javascript: first-class functions.</li>
</ul>
<h3 id="Callbacks-roadmaps"><a href="#Callbacks-roadmaps" class="headerlink" title="Callbacks: roadmaps"></a>Callbacks: roadmaps</h3><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/mac/github/zennlyu.github.io/hexo/source/_posts/coursera-ELEMENTARY SORTS/callback.png" alt="callback"></p>
<h3 id="Total-order"><a href="#Total-order" class="headerlink" title="Total order"></a>Total order</h3><p>A total order is a binary relation $≤$ that satisfies:</p>
<ul>
<li>Antisymmetry: if $v≤w$ and $w≤v$, then $v=w$. </li>
<li>Transitivity: if $v≤w$ and $w≤x$, then $v≤x$. </li>
<li>Totality: either $v≤w$ or $w≤v$ or both.</li>
</ul>
<h4 id="Ex"><a href="#Ex" class="headerlink" title="Ex."></a>Ex.</h4><ul>
<li>Standard order for natural and real numbers.</li>
<li>Chronological order for dates or times. </li>
<li>Alphabetical order for strings.</li>
<li>…</li>
</ul>
<h4 id="Surprising-but-true"><a href="#Surprising-but-true" class="headerlink" title="Surprising but true."></a>Surprising but true.</h4><p>The $&lt;=$ operator for double is not a total order. (!)</p>
<blockquote>
<p>violates totality: (<code>Double.NaN &lt;= Double.NaN</code>) is false</p>
</blockquote>
<h3 id="Comparable-API"><a href="#Comparable-API" class="headerlink" title="Comparable API"></a>Comparable API</h3><h4 id="Implement-compareTo-so-that-v-compareTo-w"><a href="#Implement-compareTo-so-that-v-compareTo-w" class="headerlink" title="Implement compareTo() so that v.compareTo(w)"></a>Implement compareTo() so that v.compareTo(w)</h4><ul>
<li>Is a total order.</li>
<li>Returns a negative integer, zero, or positive integer</li>
<li>if $v$ is less than, equal to, or greater than $w$, respectively. Throws an exception if incompatible types (or either is null).</li>
</ul>
<h4 id="Built-in-comparable-types"><a href="#Built-in-comparable-types" class="headerlink" title="Built-in comparable types."></a>Built-in comparable types.</h4><p>Integer, Double, String, Date, File, … </p>
<h4 id="User-defined-comparable-types"><a href="#User-defined-comparable-types" class="headerlink" title="User-defined comparable types."></a>User-defined comparable types.</h4><p>Implement the Comparable interface.</p>
<h3 id="Implementing-the-Comparable-interface"><a href="#Implementing-the-Comparable-interface" class="headerlink" title="Implementing the Comparable interface"></a>Implementing the Comparable interface</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Date</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Date&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> month, day, year;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Date</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> d, <span class="type">int</span> y)</span></span><br><span class="line">    &#123;</span><br><span class="line">        month = m;</span><br><span class="line">        day   = d;</span><br><span class="line">        year  = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Date that)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.year &lt; that.year ) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.year &gt; that.year ) <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.month &lt; that.month) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.month &gt; that.month) <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.day &lt; that.day )   <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.day &gt; that.day )   <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Two-useful-sorting-abstractions"><a href="#Two-useful-sorting-abstractions" class="headerlink" title="Two useful sorting abstractions"></a>Two useful sorting abstractions</h3><h2 id="‣-selection-sort"><a href="#‣-selection-sort" class="headerlink" title="‣ selection sort"></a>‣ selection sort</h2><h2 id="‣-insertion-sort"><a href="#‣-insertion-sort" class="headerlink" title="‣ insertion sort"></a>‣ insertion sort</h2><h2 id="‣-shellsort"><a href="#‣-shellsort" class="headerlink" title="‣ shellsort"></a>‣ shellsort</h2><h2 id="‣-shuffling"><a href="#‣-shuffling" class="headerlink" title="‣ shuffling"></a>‣ shuffling</h2><h2 id="‣-convex-hull"><a href="#‣-convex-hull" class="headerlink" title="‣ convex hull"></a>‣ convex hull</h2><h1 id="Stacks-and-queues"><a href="#Stacks-and-queues" class="headerlink" title="Stacks and queues"></a>Stacks and queues</h1><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/2024/07/15/alg/sq.png" alt="sq"></p>
<p>Fundamental data types.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>DATA STRUCTURE</th>
<th>ORDER</th>
</tr>
</thead>
<tbody>
<tr>
<td>stack</td>
<td>LIFO</td>
</tr>
<tr>
<td>queue</td>
<td>FIFO</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>Value: collection of objects.</li>
<li>Operations: insert, remove, iterate, test if empty. </li>
<li>Intent is clear when we insert.</li>
<li>Which item do we remove?</li>
</ul>
<h2 id="Client-implementation-interface"><a href="#Client-implementation-interface" class="headerlink" title="Client, implementation, interface"></a>Client, implementation, interface</h2><h3 id="Benefits"><a href="#Benefits" class="headerlink" title="Benefits."></a>Benefits.</h3><div class="table-container">
<table>
<thead>
<tr>
<th>DATA STRUCTURE</th>
<th>ORDER</th>
</tr>
</thead>
<tbody>
<tr>
<td>client</td>
<td>program using operations defined in interface.</td>
</tr>
<tr>
<td>implementation</td>
<td>actual code implementing operations.</td>
</tr>
<tr>
<td>interface</td>
<td>description of data type, basic operations.</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><p>Client can’t know details of implementation ⇒</p>
<p>client has many implementation from which to choose.</p>
</li>
<li><p>Implementation can’t know details of client needs ⇒</p>
<p>many clients can re-use the same implementation.</p>
</li>
<li><p><strong>Design:</strong> creates modular, reusable libraries.</p>
</li>
<li><p><strong>Performance:</strong> use optimized implementation where it matters.</p>
</li>
</ul>
<h2 id="‣-stacks"><a href="#‣-stacks" class="headerlink" title="‣ stacks"></a>‣ stacks</h2><h3 id="Warmup-API-Stack-of-strings-data-type"><a href="#Warmup-API-Stack-of-strings-data-type" class="headerlink" title="Warmup API. Stack of strings data type."></a>Warmup API. Stack of strings data type.</h3><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/2024/07/15/alg/warmapi.png" alt="warmapi"></p>
<h3 id="Warmup-client-Reverse-sequence-of-strings-from-standard-input"><a href="#Warmup-client-Reverse-sequence-of-strings-from-standard-input" class="headerlink" title="Warmup client. Reverse sequence of strings from standard input"></a>Warmup client. Reverse sequence of strings from standard input</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">StackOfStrings</span> <span class="variable">stack</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StackOfStrings</span>();</span><br><span class="line">    <span class="keyword">while</span> (!StdIn.isEmpty()) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> StdIn.readString();</span><br><span class="line">        <span class="keyword">if</span> (s.equals(<span class="string">&quot;-&quot;</span>))  StdOut.print(stack.pop()); </span><br><span class="line">        <span class="keyword">else</span>                stack.push(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Stack-linked-list-representation"><a href="#Stack-linked-list-representation" class="headerlink" title="Stack: linked-list representation"></a>Stack: linked-list representation</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkedStackOfStrings</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Node</span> <span class="variable">first</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">        <span class="comment">// private inner class (access modifiers don&#x27;t matter)</span></span><br><span class="line">        String item;</span><br><span class="line">        Node next; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span></span><br><span class="line">    &#123;  <span class="type">return</span> <span class="variable">first</span> <span class="operator">=</span>= <span class="literal">null</span>;  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(String item)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">oldfirst</span> <span class="operator">=</span> first;</span><br><span class="line">        first = <span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">        first.item = item;</span><br><span class="line">        first.next = oldfirst;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">pop</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">item</span> <span class="operator">=</span> first.item;</span><br><span class="line">        first = first.next;</span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Stack-linked-list-implementation-performance"><a href="#Stack-linked-list-implementation-performance" class="headerlink" title="Stack: linked-list implementation performance"></a>Stack: linked-list implementation performance</h3><p><strong>Proposition.</strong> Every operation takes constant time in the worst case.</p>
<p><strong>Proposition.</strong> A stack with <em>N</em> items uses $\sim40N$ bytes.</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/2024/07/15/alg/bytes.png" alt="bytes"></p>
<p><strong>Remark.</strong> This accounts for the memory for the stack (but not the memory for strings themselves, which the client owns).</p>
<h3 id="Stack-array-implementation"><a href="#Stack-array-implementation" class="headerlink" title="Stack: array implementation"></a>Stack: array implementation</h3><h4 id="Array-implementation-of-a-stack"><a href="#Array-implementation-of-a-stack" class="headerlink" title="Array implementation of a stack."></a>Array implementation of a stack.</h4><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/2024/07/15/alg/array.png" alt="array"></p>
<ul>
<li>Use array <code>s[]</code> to store <code>N</code> items on stack. </li>
<li><code>push()</code>: add new item at <code>s[N]</code>.</li>
<li><code>pop()</code>: remove item from <code>s[N-1]</code>.</li>
</ul>
<h4 id="Defect"><a href="#Defect" class="headerlink" title="Defect."></a>Defect.</h4><p>Stack overflows when <code>N</code> exceeds capacity. [stay tuned]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FixedCapacityStackOfStrings</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> String[] s;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FixedCapacityStackOfStrings</span><span class="params">(<span class="type">int</span> capacity // a cheat (stay tuned)</span>)</span><br><span class="line">    &#123;  s = <span class="keyword">new</span> <span class="title class_">String</span>[capacity];  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span></span><br><span class="line">    &#123;  <span class="type">return</span> <span class="variable">N</span> <span class="operator">=</span>= <span class="number">0</span>;  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(String item)</span></span><br><span class="line">    &#123;  s[N++] = item; <span class="comment">// use to index into array; then increment N &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">pop</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> s[--N]; <span class="comment">// decrement N; then use to index into array &#125; </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Stack-considerations"><a href="#Stack-considerations" class="headerlink" title="Stack considerations"></a>Stack considerations</h3><h4 id="Overflow-and-underflow"><a href="#Overflow-and-underflow" class="headerlink" title="Overflow and underflow."></a>Overflow and underflow.</h4><div class="table-container">
<table>
<thead>
<tr>
<th>Cases</th>
<th>Consideration</th>
</tr>
</thead>
<tbody>
<tr>
<td>Underflow</td>
<td>throw exception if pop from an empty stack</td>
</tr>
<tr>
<td>Overflow</td>
<td>use resizing array for array implementation. [stay tuned]</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Null-items-We-allow-null-items-to-be-inserted"><a href="#Null-items-We-allow-null-items-to-be-inserted" class="headerlink" title="Null items: We allow null items to be inserted."></a>Null items: We allow null items to be inserted.</h4><h4 id="Loitering-Holding-a-reference-to-an-object-when-it-is-no-longer-needed"><a href="#Loitering-Holding-a-reference-to-an-object-when-it-is-no-longer-needed" class="headerlink" title="Loitering: Holding a reference to an object when it is no longer needed."></a>Loitering: Holding a reference to an object when it is no longer needed.</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">pop</span><span class="params">()</span> &#123; <span class="keyword">return</span> s[--N]; &#125;	<span class="comment">// Loitering.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// this version avoids &quot;loitering&quot;: </span></span><br><span class="line"><span class="comment">// garbage collector can reclaim memory only if no outstanding references</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">pop</span><span class="params">()</span></span><br><span class="line">&#123;	<span class="type">String</span> <span class="variable">item</span> <span class="operator">=</span> s[--N]; s[N] = <span class="literal">null</span>;	<span class="keyword">return</span> item;	&#125;</span><br></pre></td></tr></table></figure>
<h2 id="‣-resizing-arrays"><a href="#‣-resizing-arrays" class="headerlink" title="‣ resizing arrays"></a>‣ resizing arrays</h2><h3 id="Stack-resizing-array-implementation"><a href="#Stack-resizing-array-implementation" class="headerlink" title="Stack: resizing-array implementation"></a>Stack: resizing-array implementation</h3><h4 id="Q-How-to-grow-and-shrink-array"><a href="#Q-How-to-grow-and-shrink-array" class="headerlink" title="Q. How to grow and shrink array?"></a>Q. How to grow and shrink array?</h4><p><strong>Problem.</strong> Requiring client to provide capacity does not implement API! </p>
<h5 id="First-try"><a href="#First-try" class="headerlink" title="First try."></a>First try.</h5><ul>
<li><code>push()</code>: increase size of array <code>s[]</code> by 1. </li>
<li><code>pop()</code>:  decrease size of array <code>s[]</code> by 1.</li>
</ul>
<h5 id="Too-expensive"><a href="#Too-expensive" class="headerlink" title="Too expensive."></a>Too expensive.</h5><ul>
<li><p>Need to copy all items to a new array.</p>
</li>
<li><p>Inserting first <code>N</code> items takes time proportional to $1+2+…+N\sim N^2/2$.</p>
</li>
</ul>
<h5 id="Challenge-Ensure-that-array-resizing-happens-infrequently"><a href="#Challenge-Ensure-that-array-resizing-happens-infrequently" class="headerlink" title="Challenge: Ensure that array resizing happens infrequently."></a>Challenge: Ensure that array resizing happens infrequently.</h5><h4 id="Q-How-to-grow-array"><a href="#Q-How-to-grow-array" class="headerlink" title="Q. How to grow array?"></a>Q. How to grow array?</h4><h5 id="A"><a href="#A" class="headerlink" title="A."></a><strong>A.</strong></h5><p>If array is full, create a new array of <strong>twice</strong><u>(“repeated doubling”)</u> the size, and copy items.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">ResizingArrayStackOfStrings</span><span class="params">()</span></span><br><span class="line">&#123;  s = <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">1</span>];  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(String item)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (N == s.length) resize(<span class="number">2</span> * s.length);</span><br><span class="line">    s[N++] = item;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">resize</span><span class="params">(<span class="type">int</span> capacity)</span></span><br><span class="line">&#123;</span><br><span class="line">    String[] copy = <span class="keyword">new</span> <span class="title class_">String</span>[capacity];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        copy[i] = s[i];</span><br><span class="line">    s = copy;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Consequence"><a href="#Consequence" class="headerlink" title="Consequence."></a>Consequence.</h5><p>Cost of inserting first N items: Inserting first N items takes time proportional to N (not N 2 ).</p>
<p>$\begin{align} N<em>{1\ array\ access/push}+(2+4+8+…+N)</em>{k\ array\ accesses\ to\ double\ to\ size\ k,(ignoring\ cost\ to\ create\ new\ array)}~3N \end{align}$</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/2024/07/15/alg/push.png" alt="push"></p>
<h4 id="Q-How-to-shrink-array"><a href="#Q-How-to-shrink-array" class="headerlink" title="Q. How to shrink array?"></a>Q. How to shrink array?</h4><h5 id="First-try：Too-expensive-in-worst-case"><a href="#First-try：Too-expensive-in-worst-case" class="headerlink" title="First try：Too expensive in worst case."></a>First try：Too expensive in worst case.</h5><div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>push()</code></td>
<td>double size of array <code>s[]</code> when array is full.</td>
</tr>
<tr>
<td><code>pop()</code></td>
<td>halve size of array <code>s[]</code> when array is one-half full.</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>Consider <code>push-pop-push-pop-...</code> sequence when array is full. </li>
<li>Each operation takes time proportional to $N$.</li>
</ul>
<h5 id="Efficient-try"><a href="#Efficient-try" class="headerlink" title="Efficient try."></a>Efficient try.</h5><div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>push()</code></td>
<td>double size of array <code>s[]</code> when array is full.</td>
</tr>
<tr>
<td><code>pop()</code></td>
<td>halve size of array <code>s[]</code> when array is one-quarter full.</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">pop</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">item</span> <span class="operator">=</span> s[--N];</span><br><span class="line">    s[N] = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (N &gt; <span class="number">0</span> &amp;&amp; N == s.length/<span class="number">4</span>) resize(s.length/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> item;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Invariant</strong>: Array is between 25% and 100% full.</p>
</blockquote>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/2024/07/15/alg/trace.png" alt="trace"></p>
<h3 id="performance"><a href="#performance" class="headerlink" title="performance"></a>performance</h3><h4 id="Amortized-analysis"><a href="#Amortized-analysis" class="headerlink" title="Amortized analysis."></a>Amortized analysis.</h4><p>Average running time per operation over a worst-case sequence of operations.</p>
<h4 id="Proposition"><a href="#Proposition" class="headerlink" title="Proposition."></a>Proposition.</h4><p>Starting from an empty stack, any sequence of $M$ push and pop operations takes time proportional to $M$.</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/2024/07/15/alg/resize.png" alt="resize"></p>
<h3 id="memory-usage"><a href="#memory-usage" class="headerlink" title="memory usage"></a>memory usage</h3><h4 id="Proposition-1"><a href="#Proposition-1" class="headerlink" title="Proposition."></a>Proposition.</h4><p>Uses between ~ $8\ N$ and ~ $32\ N$ bytes to represent a stack with $N$ items.</p>
<ul>
<li>~ 8 $N$ when full.</li>
<li>~ 32 $N$ when one-quarter full.</li>
</ul>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/2024/07/15/alg/one-quarter.png" alt="one-quarter"></p>
<blockquote>
<p>This accounts for the memory for the stack (but not the memory for strings themselves, which the client owns).</p>
</blockquote>
<h4 id="resizing-array-vs-linked-list"><a href="#resizing-array-vs-linked-list" class="headerlink" title="resizing array vs. linked list"></a>resizing array vs. linked list</h4><h5 id="Tradeoffs"><a href="#Tradeoffs" class="headerlink" title="Tradeoffs."></a>Tradeoffs.</h5><p>Can implement a stack with either resizing array or linked list; save a link to the list; client can use interchangeably. Which one is better?</p>
<h5 id="Linked-list-implementation"><a href="#Linked-list-implementation" class="headerlink" title="Linked-list implementation."></a>Linked-list implementation.</h5><ul>
<li>Every operation takes constant time in the worst case.</li>
<li>Uses extra time and space to deal with the links.</li>
</ul>
<h5 id="Resizing-array-implementation"><a href="#Resizing-array-implementation" class="headerlink" title="Resizing-array implementation."></a>Resizing-array implementation.</h5><ul>
<li>Every operation takes constant amortized time.</li>
<li>Less wasted space.</li>
</ul>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/2024/07/15/alg/linked-list.png" alt="linked-list"></p>
<h2 id="‣-queues"><a href="#‣-queues" class="headerlink" title="‣ queues"></a>‣ queues</h2><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/mac/github/zennlyu.github.io/hexo/source/_posts/coursera-BAGS, QUEUES, AND STACKS/queue.png" alt="queue"></p>
<p>linked-list representation</p>
<h2 id="‣-generics"><a href="#‣-generics" class="headerlink" title="‣ generics"></a>‣ generics</h2><p>Parameterized stack</p>
<h2 id="‣-iterators"><a href="#‣-iterators" class="headerlink" title="‣ iterators"></a>‣ iterators</h2><h3 id="Design-challenge"><a href="#Design-challenge" class="headerlink" title="Design challenge"></a>Design challenge</h3><blockquote>
<p>Support iteration over stack items by client, without revealing the internal representation of the stack.</p>
</blockquote>
<p><strong>Java solution</strong>: Make stack implement the java.lang.Iterable interface.</p>
<h3 id="Iterators"><a href="#Iterators" class="headerlink" title="Iterators"></a>Iterators</h3><ul>
<li>What is an Iterable?  — Has a method that returns an Iterator.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Iterable</span>&lt;Item&gt;</span><br><span class="line">&#123;</span><br><span class="line">   Iterator&lt;Item&gt; <span class="title function_">iterator</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>What is an Iterator? — Has methods hasNext() and next().</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Iterator</span>&lt;Item&gt;</span><br><span class="line">&#123;</span><br><span class="line">   <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span>;</span><br><span class="line">   Item <span class="title function_">next</span><span class="params">()</span>;</span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span>; <span class="comment">// optional; use at your own risk</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Why make data structures Iterable? — Java supports elegant client code.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (String s : stack) StdOut.println(s); <span class="comment">// shorthand</span></span><br><span class="line">||</span><br><span class="line"><span class="comment">// longhand</span></span><br><span class="line">Iterator&lt;String&gt; i = stack.iterator(); <span class="keyword">while</span> (i.hasNext())</span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> i.next();</span><br><span class="line">  StdOut.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Stack-iterator-linked-list-implementation"><a href="#Stack-iterator-linked-list-implementation" class="headerlink" title="Stack iterator: linked-list implementation"></a>Stack iterator: linked-list implementation</h3><h3 id="Stack-iterator-array-implementation"><a href="#Stack-iterator-array-implementation" class="headerlink" title="Stack iterator: array implementation"></a>Stack iterator: array implementation</h3><h3 id="Bag-API"><a href="#Bag-API" class="headerlink" title="Bag API"></a>Bag API</h3><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/mac/github/zennlyu.github.io/hexo/source/_posts/coursera-BAGS, QUEUES, AND STACKS/bag.png" alt="bag"></p>
<p><strong>Main application.</strong> Adding items to a collection and iterating (when order doesn’t matter).</p>
<p><strong>Implementation.</strong> Stack (without pop) or queue (without dequeue).</p>
<h2 id="‣-applications"><a href="#‣-applications" class="headerlink" title="‣ applications"></a>‣ applications</h2><h3 id="Java-collections-library"><a href="#Java-collections-library" class="headerlink" title="Java collections library"></a>Java collections library</h3><h4 id="List-interface"><a href="#List-interface" class="headerlink" title="List interface."></a>List interface.</h4><p><code>java.util.List</code> is API for an sequence of items.</p>
<h4 id="Implementations"><a href="#Implementations" class="headerlink" title="Implementations."></a>Implementations.</h4><blockquote>
<p>caveat: only some operations are efficient</p>
</blockquote>
<ul>
<li><code>java.util.ArrayList</code> uses resizing array;</li>
<li><code>java.util.LinkedList</code> uses linked list.</li>
</ul>
<h4 id="java-util-Stack"><a href="#java-util-Stack" class="headerlink" title="java.util.Stack"></a><code>java.util.Stack</code></h4><ul>
<li>Supports <code>push()</code>, <code>pop()</code>, and and iteration.</li>
<li>Extends <code>java.util.Vector</code>, which implements <code>java.util.List</code> interface from previous slide, including, <code>get()</code> and <code>remove()</code>. </li>
<li>Bloated and poorly-designed API (why?)</li>
</ul>
<p><code>java.util.Queue</code>： An interface, not an implementation of a queue. </p>
<p><strong>Best practices</strong>：Use our implementations of Stack, Queue, and Bag.</p>
<h4 id="War-story-from-Assignment-1"><a href="#War-story-from-Assignment-1" class="headerlink" title="War story (from Assignment 1)"></a>War story (from Assignment 1)</h4><h5 id="Generate-random-open-sites-in-an-N-by-N-percolation-system"><a href="#Generate-random-open-sites-in-an-N-by-N-percolation-system" class="headerlink" title="Generate random open sites in an N-by-N percolation system."></a>Generate random open sites in an <em>N</em>-by-<em>N</em> percolation system.</h5><ul>
<li><p>Jenny: pick<code>(i,j)</code> at random; if already open, repeat. | Takes ~$c_1N^2$ seconds.</p>
</li>
<li><p>Kenny: create a <code>java.util.ArrayList</code> of $N^2$ closed sites. Pick an index at random and delete. | Takes ~$c_2N^4$ seconds.</p>
</li>
</ul>
<blockquote>
<p>Lesson. Don’t use a library until you understand its API!</p>
<p>This course. Can’t use a library until we’ve implemented it in class.</p>
</blockquote>
<h4 id="Stack-applications"><a href="#Stack-applications" class="headerlink" title="Stack applications"></a>Stack applications</h4><ul>
<li>Parsing in a compiler.</li>
<li>Java virtual machine.</li>
<li>Undo in a word processor.</li>
<li>Back button in a Web browser.</li>
<li>PostScript language for printers.</li>
<li>Implementing function calls in a compiler.</li>
</ul>
<h4 id="Function-Calls"><a href="#Function-Calls" class="headerlink" title="Function Calls"></a>Function Calls</h4><p>How a compiler implements a function.</p>
<blockquote>
<p>Recursive function: Function that calls itself.</p>
<p>Note: Can always use an explicit stack to remove recursion</p>
</blockquote>
<ul>
<li>Function call: push local environment and return address.</li>
<li>Return: pop return address and local environment.</li>
</ul>
<h1 id="‣-1-4-ANALYSIS-OF-ALGORITHMS-Introduction"><a href="#‣-1-4-ANALYSIS-OF-ALGORITHMS-Introduction" class="headerlink" title="‣ 1.4 ANALYSIS OF ALGORITHMS Introduction"></a>‣ 1.4 ANALYSIS OF ALGORITHMS Introduction</h1><h3 id="Stake-holder"><a href="#Stake-holder" class="headerlink" title="Stake holder"></a>Stake holder</h3><ul>
<li>Programmer</li>
<li>Client</li>
<li>Theoretician </li>
<li>Blocking and tackling </li>
</ul>
<h3 id="Successes"><a href="#Successes" class="headerlink" title="Successes"></a>Successes</h3><h5 id="FFT-algorithm-Discrete-Fourier-transform"><a href="#FFT-algorithm-Discrete-Fourier-transform" class="headerlink" title="FFT algorithm: Discrete Fourier transform."></a>FFT algorithm: Discrete Fourier transform.</h5><ul>
<li>Break down waveform of N samples into periodic components. </li>
<li>Applications: DVD, JPEG, MRI, astrophysics, ….</li>
<li>Brute force: N<sup>2</sup> steps.</li>
<li>FFT algorithm: <code>NlogN</code> steps, enables new technology.</li>
</ul>
<h5 id="Barnes-Hut-algorithm-N-Body-Stimulation"><a href="#Barnes-Hut-algorithm-N-Body-Stimulation" class="headerlink" title="Barnes-Hut algorithm: N-Body Stimulation"></a>Barnes-Hut algorithm: N-Body Stimulation</h5><ul>
<li>Simulate gravitational interactions among N bodies. </li>
<li>Brute force: N<sup>2</sup> steps.</li>
<li>Barnes-Hut algorithm: <code>NlogN</code> steps, enables new research</li>
</ul>
<h3 id="Scientific-method"><a href="#Scientific-method" class="headerlink" title="Scientific method"></a>Scientific method</h3><blockquote>
<p>A framework for predicting performance and comparing algorithms.</p>
</blockquote>
<ul>
<li><strong>Observe</strong> some feature of the natural world.</li>
<li><strong>Hypothesize</strong> a model that is consistent with the observations. Predict events using the hypothesis.</li>
<li><strong>Verify</strong> the predictions by making further observations.</li>
<li><strong>Validate</strong> by repeating until the hypothesis and observations agree.</li>
</ul>
<h3 id="Principles"><a href="#Principles" class="headerlink" title="Principles"></a>Principles</h3><ul>
<li>Experiments must be reproducible.</li>
<li>Hypotheses must be falsifiable.</li>
</ul>
<h3 id="Example-3-SUM-Brute-force-Algorithm"><a href="#Example-3-SUM-Brute-force-Algorithm" class="headerlink" title="Example 3-SUM : Brute-force Algorithm"></a>Example 3-SUM : Brute-force Algorithm</h3><p>Given <em>N</em> distinct integers, how many triples sum to exactly zero —— Deeply related to problems in computational geometry.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreeSum</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">count</span><span class="params">(<span class="type">int</span>[] a)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> a.length;</span><br><span class="line">		<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;N; i++) </span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; N; j++) </span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> j+<span class="number">1</span>; k &lt; N; k++) <span class="comment">// check each triple</span></span><br><span class="line">					<span class="keyword">if</span> (a[i] + a[j] + a[k] == <span class="number">0</span>) <span class="comment">// for simplicity, ignore integer overflow</span></span><br><span class="line">						count++;</span><br><span class="line">		<span class="keyword">return</span> count;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] a = In.readInts(args[<span class="number">0</span>]);</span><br><span class="line">		StdOut.println(count(a));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Messure-Running-Time"><a href="#Messure-Running-Time" class="headerlink" title="Messure Running Time"></a>Messure Running Time</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span>[] a = In.readInts(args[<span class="number">0</span>]);</span><br><span class="line">	<span class="type">Stopwatch</span> <span class="variable">stopwatch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Stopwatch</span>();</span><br><span class="line">	StdOut.println(ThreeSum.count(a)); </span><br><span class="line">	<span class="type">double</span> <span class="variable">time</span> <span class="operator">=</span> stopwatch.elapsedTime();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Empirical-analysis"><a href="#Empirical-analysis" class="headerlink" title="Empirical analysis"></a>Empirical analysis</h4><h4 id="Data-analysis"><a href="#Data-analysis" class="headerlink" title="Data analysis"></a>Data analysis</h4><h6 id="Standard-plot"><a href="#Standard-plot" class="headerlink" title="Standard plot."></a>Standard plot.</h6><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/standard_plot.png" alt="standard_plot"></p>
<h6 id="Log-log-plot"><a href="#Log-log-plot" class="headerlink" title="Log-log plot."></a>Log-log plot.</h6><p>Plot running time <em>T</em>(<em>N</em>) vs. input size <em>N</em> using <strong>log-log scale.</strong></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/log-log.png" alt="log-log"></p>
<h6 id="Regression"><a href="#Regression" class="headerlink" title="Regression."></a>Regression.</h6><h6 id="Hypothesis"><a href="#Hypothesis" class="headerlink" title="Hypothesis."></a>Hypothesis.</h6><h4 id="Prediction-and-validation"><a href="#Prediction-and-validation" class="headerlink" title="Prediction and validation"></a>Prediction and validation</h4><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/hyp.png" alt="log-log"></p>
<h4 id="Doubling-hypothesis-Quick-way-to-estimate-b-in-a-power-law-relationship"><a href="#Doubling-hypothesis-Quick-way-to-estimate-b-in-a-power-law-relationship" class="headerlink" title="Doubling hypothesis - Quick way to estimate b in a power-law relationship"></a>Doubling hypothesis - Quick way to estimate <em>b</em> in a power-law relationship</h4><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/double-hyp1.png" alt="log-log"></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/double-hyp2.png" alt="log-log"></p>
<h4 id="Experimental-algorithmics"><a href="#Experimental-algorithmics" class="headerlink" title="Experimental algorithmics"></a>Experimental algorithmics</h4><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/exp-anly.png" alt="exp-anly"></p>
<h3 id="‣-Mathematical-models-for-running-time"><a href="#‣-Mathematical-models-for-running-time" class="headerlink" title="‣ Mathematical models for running time"></a>‣ Mathematical models for running time</h3><p>Total running time: sum of cost × frequency for all operations.</p>
<ul>
<li>Need to analyze program to determine set of operations.</li>
<li>Cost depends on machine, compiler.</li>
<li>Frequency depends on algorithm, input data.</li>
</ul>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/mathmodel.png" alt="log-log"></p>
<h4 id="Example-1-SUM"><a href="#Example-1-SUM" class="headerlink" title="Example 1-SUM:"></a>Example 1-SUM:</h4><blockquote>
<p>Q. How many instructions as a function of input size <em>N</em> ?</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">   <span class="keyword">if</span> (a[i] == <span class="number">0</span>)</span><br><span class="line">      count++;</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th>operation</th>
<th>Frequency</th>
</tr>
</thead>
<tbody>
<tr>
<td>variable declaration</td>
<td>2</td>
</tr>
<tr>
<td>assignment statement</td>
<td>2</td>
</tr>
<tr>
<td>less than compare</td>
<td>N +1</td>
</tr>
<tr>
<td>equal to compare</td>
<td>N</td>
</tr>
<tr>
<td>array access</td>
<td>N</td>
</tr>
<tr>
<td>increment</td>
<td>N to 2 N</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Example-2-SUM"><a href="#Example-2-SUM" class="headerlink" title="Example 2-SUM"></a>Example 2-SUM</h4><h5 id="Q-How-many-instructions-as-a-function-of-input-size-N"><a href="#Q-How-many-instructions-as-a-function-of-input-size-N" class="headerlink" title="Q. How many instructions as a function of input size N ?"></a>Q. How many instructions as a function of input size <em>N</em> ?</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">   <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; N; j++)</span><br><span class="line">      <span class="keyword">if</span> (a[i] + a[j] == <span class="number">0</span>)</span><br><span class="line">				count++;</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th>operation</th>
<th>Frequency</th>
<th>Tilde Notation</th>
</tr>
</thead>
<tbody>
<tr>
<td>variable declaration</td>
<td>N+2</td>
<td>~$N$</td>
</tr>
<tr>
<td>assignment statement</td>
<td>N+2</td>
<td>~$N$</td>
</tr>
<tr>
<td>less than compare</td>
<td>1/2(N+1)(N+2)</td>
<td>~$\frac{1}{2}N^2$</td>
</tr>
<tr>
<td>equal to compare</td>
<td>1/2 N(N-1)</td>
<td>~$\frac{1}{2}N^2$</td>
</tr>
<tr>
<td>array access</td>
<td>N(N-1)</td>
<td>~$N^2$</td>
</tr>
<tr>
<td>increment</td>
<td>1⁄2 N (N − 1) to N (N − 1)</td>
<td>~$\frac{1}{2}N^2$ to ~$N^2$</td>
</tr>
</tbody>
</table>
</div>
<h5 id="Simplification-of-calculation："><a href="#Simplification-of-calculation：" class="headerlink" title="Simplification of calculation："></a>Simplification of calculation：</h5><ol>
<li><p>cost model: Use some basic operation as a proxy for running time.</p>
</li>
<li><p>tilde notation</p>
<blockquote>
<p>Technical definition: $f(N)$~$g(N)$ means <script type="math/tex">\lim_{N \to \infty} \frac{f(N)}{g(N)}=1</script></p>
</blockquote>
<ul>
<li>Estimate running time (or memory) as a function of input size <em>N</em>. </li>
<li>Ignore lower order terms.<ul>
<li>when <em>N</em> is large, terms are negligible </li>
<li>when <em>N</em> is small, we don’t care</li>
</ul>
</li>
</ul>
</li>
</ol>
<h5 id="Q-Approximately-how-many-array-accesses-as-a-function-of-input-size-N"><a href="#Q-Approximately-how-many-array-accesses-as-a-function-of-input-size-N" class="headerlink" title="Q. Approximately how many array accesses as a function of input size N ?"></a>Q. Approximately how many array accesses as a function of input size <em>N</em> ?</h5><p>A. ~$N^2$ array accesses.</p>
<p><strong>Bottom line</strong>. Use cost model and tilde notation to simplify counts</p>
<h4 id="Example-3-SUM"><a href="#Example-3-SUM" class="headerlink" title="Example 3-SUM"></a>Example 3-SUM</h4><blockquote>
<p>Q. Approximately how many array accesses as a function of input size <em>N</em> ?</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">   <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; N; j++)</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> j+<span class="number">1</span>; k &lt; N; k++)</span><br><span class="line">         <span class="keyword">if</span> (a[i] + a[j] + a[k] == <span class="number">0</span>)</span><br><span class="line">            count++;</span><br></pre></td></tr></table></figure>
<p>A. ~$\frac{1}{2}N^3$ array accesses.</p>
<h4 id="Estimating-a-discrete-sum"><a href="#Estimating-a-discrete-sum" class="headerlink" title="Estimating a discrete sum"></a>Estimating a discrete sum</h4><p>Q. How to estimate a discrete sum?</p>
<p>A1. Take discrete mathematics course.</p>
<p>A2. Replace the sum with an integral, and use calculus!</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/dscrtmath.png" alt="log-log"></p>
<h3 id="‣-Order-of-growth-classifications"><a href="#‣-Order-of-growth-classifications" class="headerlink" title="‣ Order-of-growth classifications"></a>‣ Order-of-growth classifications</h3><p>the small set of functions suffices to describe order-of-growth of typical algorithms. —— $1$, $logN$, $N$, $NlogN$, $N^2$, $N^3$, $2^N$</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/orderofgrowth.png" alt="log-log"></p>
<p>Bottom line. Need linear or linearithmic alg to keep pace with Moore’s law.</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/classification.png" alt="log-log"></p>
<h3 id="‣-theory-of-algorithms"><a href="#‣-theory-of-algorithms" class="headerlink" title="‣ theory of algorithms"></a>‣ theory of algorithms</h3><h4 id="Type-of-analyses"><a href="#Type-of-analyses" class="headerlink" title="Type of analyses"></a>Type of analyses</h4><ul>
<li>Best case. Lower bound on cost.</li>
</ul>
<blockquote>
<p>Determined by “easiest” input. </p>
<p>Provides a goal for all inputs.</p>
</blockquote>
<ul>
<li>Worst case. Upper bound on cost.</li>
</ul>
<blockquote>
<p>Determined by “most difficult” input.</p>
<p>Provides a guarantee for all inputs.</p>
</blockquote>
<ul>
<li>Average case. Expected cost for random input.</li>
</ul>
<blockquote>
<p>Need a model for “random” input. </p>
<p>Provides a way to predict performance.</p>
</blockquote>
<p>Actual data might not match input model?</p>
<ul>
<li><p>Need to understand input to effectively process it. </p>
</li>
<li><p>Approach 1: design for the worst case.</p>
</li>
<li><p>Approach 2: randomize, depend on probabilistic guarantee.</p>
</li>
</ul>
<h4 id="Goals"><a href="#Goals" class="headerlink" title="Goals:"></a><strong>Goals:</strong></h4><ul>
<li>Establish “difficulty” of a problem. </li>
<li>Develop “optimal” algorithms.</li>
</ul>
<h4 id="Approach"><a href="#Approach" class="headerlink" title="Approach."></a><strong>Approach.</strong></h4><ul>
<li>Suppress details in analysis: analyze “to within a constant factor”. </li>
<li>Eliminate variability in input model by focusing on the worst case.</li>
</ul>
<h4 id="Optimal-algorithm"><a href="#Optimal-algorithm" class="headerlink" title="Optimal algorithm."></a><strong>Optimal algorithm.</strong></h4><ul>
<li>Performance guarantee (to within a constant factor) for any input. </li>
<li>No algorithm can provide a better performance guarantee.</li>
</ul>
<h4 id="Commonly-used-notations"><a href="#Commonly-used-notations" class="headerlink" title="Commonly-used notations"></a><strong>Commonly-used notations</strong></h4><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/notation.png" alt="log-log"></p>
<h4 id="Algorithm-design-approach"><a href="#Algorithm-design-approach" class="headerlink" title="Algorithm design approach"></a>Algorithm design approach</h4><h5 id="Start"><a href="#Start" class="headerlink" title="Start."></a>Start.</h5><ul>
<li>Develop an algorithm. </li>
<li>Prove a lower bound.</li>
</ul>
<h5 id="Gap"><a href="#Gap" class="headerlink" title="Gap?"></a>Gap?</h5><ul>
<li>Lower the upper bound (discover a new algorithm). </li>
<li>Raise the lower bound (more difficult).</li>
</ul>
<h5 id="Golden-Age-of-Algorithm-Design"><a href="#Golden-Age-of-Algorithm-Design" class="headerlink" title="Golden Age of Algorithm Design."></a>Golden Age of Algorithm Design.</h5><ul>
<li>1970s-. Steadily decreasing upper bounds for many important problems. </li>
<li>Many known optimal algorithms.</li>
</ul>
<h5 id="Caveats"><a href="#Caveats" class="headerlink" title="Caveats."></a>Caveats.</h5><ul>
<li>Overly pessimistic to focus on worst case?</li>
<li>Need better than “to within a constant factor” to predict performance.</li>
</ul>
<h3 id="‣-memory"><a href="#‣-memory" class="headerlink" title="‣ memory"></a>‣ memory</h3><h4 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h4><ul>
<li>Bit. 0 or 1. </li>
<li>Byte. 8 bits.</li>
<li>Megabyte (MB). 1 million or 220 bytes. </li>
<li>Gigabyte (GB). 1 billion or 230 bytes.</li>
<li>64-bit machine. We assume a 64-bit machine with 8 byte pointers.<ul>
<li>Can address more memory. </li>
<li>Pointers use more space.（some JVMs “compress” ordinary object pointers to 4 bytes to avoid this cost）</li>
</ul>
</li>
</ul>
<h4 id="Typical-memory-usage-for-primitive-types-and-arrays"><a href="#Typical-memory-usage-for-primitive-types-and-arrays" class="headerlink" title="Typical memory usage for primitive types and arrays"></a>Typical memory usage for primitive types and arrays</h4><h5 id="for-primitive-types"><a href="#for-primitive-types" class="headerlink" title="for primitive types"></a>for primitive types</h5><div class="table-container">
<table>
<thead>
<tr>
<th>Type</th>
<th>Bytes</th>
</tr>
</thead>
<tbody>
<tr>
<td>boolean</td>
<td>1</td>
</tr>
<tr>
<td>bytes</td>
<td>1</td>
</tr>
<tr>
<td>char</td>
<td>2</td>
</tr>
<tr>
<td>int</td>
<td>4</td>
</tr>
<tr>
<td>float</td>
<td>4</td>
</tr>
<tr>
<td>long</td>
<td>8</td>
</tr>
<tr>
<td>double</td>
<td>8</td>
</tr>
</tbody>
</table>
</div>
<h5 id="for-one-dimensional-arrays"><a href="#for-one-dimensional-arrays" class="headerlink" title="for one-dimensional arrays"></a>for one-dimensional arrays</h5><div class="table-container">
<table>
<thead>
<tr>
<th>Type</th>
<th>bytes</th>
</tr>
</thead>
<tbody>
<tr>
<td>char[]</td>
<td>2N + 24</td>
</tr>
<tr>
<td>int[]</td>
<td>4N + 24</td>
</tr>
<tr>
<td>double[]</td>
<td>8N + 24</td>
</tr>
</tbody>
</table>
</div>
<h5 id="for-two-dimensional-arrays"><a href="#for-two-dimensional-arrays" class="headerlink" title="for two-dimensional arrays"></a>for two-dimensional arrays</h5><div class="table-container">
<table>
<thead>
<tr>
<th>Type</th>
<th>bytes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>char[][]</code></td>
<td>~ 2 M N</td>
</tr>
<tr>
<td><code>int[][]</code></td>
<td>~ 4 M N</td>
</tr>
<tr>
<td><code>double[][]</code></td>
<td>~ 8 M N</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Typical-memory-usage-for-objects-in-Java"><a href="#Typical-memory-usage-for-objects-in-Java" class="headerlink" title="Typical memory usage for objects in Java"></a>Typical memory usage for objects in Java</h4><ul>
<li>Object overhead. 16 bytes.</li>
<li>Reference. 8 bytes.</li>
<li>Padding. Each object uses a multiple of 8 bytes.</li>
</ul>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/dataobj.png" alt="log-log"></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/virgin-string.png" alt="log-log"></p>
<h4 id="Memory-Usage-Summary"><a href="#Memory-Usage-Summary" class="headerlink" title="Memory Usage Summary"></a>Memory Usage Summary</h4><p>Total memory usage for a data type value:</p>
<ul>
<li>Primitive type: 4 bytes for int, 8 bytes for double, … </li>
<li>Object reference: 8 bytes.</li>
<li>Array: 24 bytes + memory for each array entry. </li>
<li>Object: 16 bytes + memory for each instance variable + 8 bytes if inner class (for pointer to enclosing class). </li>
<li>Padding: round up to multiple of 8 bytes.</li>
</ul>
<p><strong>Shallow memory usage:</strong> Don’t count referenced objects.</p>
<p><strong>Deep memory usage:</strong> If array entry or instance variable is a reference, add memory (recursively) for referenced object.</p>
<h1 id="1-5-UNION-FIND‣-DYNAMIC-CONNECTIVITY"><a href="#1-5-UNION-FIND‣-DYNAMIC-CONNECTIVITY" class="headerlink" title="1.5 UNION_FIND‣ DYNAMIC CONNECTIVITY"></a>1.5 UNION_FIND‣ DYNAMIC CONNECTIVITY</h1><h3 id="Given-a-set-of-N-objects"><a href="#Given-a-set-of-N-objects" class="headerlink" title="Given a set of N objects."></a>Given a set of N objects.</h3><ul>
<li>Union command: connect two objects.</li>
<li>Find/connected query: is there a path connecting the two objects?</li>
</ul>
<h3 id="Modeling-the-objects"><a href="#Modeling-the-objects" class="headerlink" title="Modeling the objects"></a>Modeling the objects</h3><p>Applications involve manipulating objects of all types.</p>
<ul>
<li>Pixels in a digital photo.</li>
<li>Computers in a network.</li>
<li>Friends in a social network. </li>
<li>Transistors in a computer chip. </li>
<li>Elements in a mathematical set. </li>
<li>Variable names in Fortran program. </li>
<li>Metallic sites in a composite system.</li>
</ul>
<p>When programming, convenient to name objects 0 to N –1.</p>
<ul>
<li><p>Use integers as array index.</p>
</li>
<li><p>Suppress details not relevant to union-find.</p>
<blockquote>
<p>(can use ST to translate from site names to integers: stay tuned (Chapter 3))</p>
</blockquote>
</li>
</ul>
<h3 id="Modeling-the-connections"><a href="#Modeling-the-connections" class="headerlink" title="Modeling the connections"></a>Modeling the connections</h3><p>We assume “is connected to” is an equivalence relation:</p>
<ul>
<li><strong>Reflexive:</strong> <em>p</em> is connected to <em>p</em>.</li>
<li><strong>Symmetric:</strong> if <em>p</em> is connected to <em>q</em>, then <em>q</em> is connected to <em>p</em>. </li>
<li><strong>Transitive:</strong> if <em>p</em> is connected to <em>q</em> and <em>q</em> is connected to <em>r</em>, then <em>p</em> is connected to <em>r</em>.</li>
</ul>
<h3 id="Implementing-the-operations"><a href="#Implementing-the-operations" class="headerlink" title="Implementing the operations"></a>Implementing the operations</h3><ul>
<li><strong>Find query.</strong> Check if two objects are in the same component.</li>
<li><strong>Union command.</strong> Replace components containing two objects with their union.</li>
</ul>
<h3 id="Union-find-data-type-API"><a href="#Union-find-data-type-API" class="headerlink" title="Union-find data type (API)"></a>Union-find data type (API)</h3><p><strong>Goal.</strong> Design efficient data structure for union-find.</p>
<ul>
<li>Number of objects <em>N</em> can be huge.</li>
<li>Number of operations <em>M</em> can be huge.</li>
<li>Find queries and union commands may be intermixed.</li>
</ul>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/UF.png" alt="UF"></p>
<h3 id="Dynamic-connectivity-client"><a href="#Dynamic-connectivity-client" class="headerlink" title="Dynamic-connectivity client"></a>Dynamic-connectivity client</h3><ul>
<li>・Read in number of objects <em>N</em> from standard input. </li>
<li>・Repeat:<ul>
<li>–  read in pair of integers from standard input</li>
<li>–  if they are not yet connected, connect them and print out pair</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> StdIn.readInt(); </span><br><span class="line">	<span class="type">UF</span> <span class="variable">uf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UF</span>(N);</span><br><span class="line">	<span class="keyword">while</span> (!StdIn.isEmpty()) &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> StdIn.readInt(); </span><br><span class="line">		<span class="type">int</span> <span class="variable">q</span> <span class="operator">=</span> StdIn.readInt(); </span><br><span class="line">		<span class="keyword">if</span> (!uf.connected(p, q)) &#123;</span><br><span class="line">			uf.union(p, q);</span><br><span class="line">			StdOut.println(p + <span class="string">&quot; &quot;</span> + q); </span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="‣-QUICK-FIND"><a href="#‣-QUICK-FIND" class="headerlink" title="‣ QUICK-FIND"></a>‣ QUICK-FIND</h2><h3 id="Eager-approach"><a href="#Eager-approach" class="headerlink" title="Eager approach"></a>Eager approach</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickFindUF</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">QuickFindUF</span><span class="params">(<span class="type">int</span> N)</span></span><br><span class="line">    &#123;</span><br><span class="line">        id = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            id[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">connected</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span></span><br><span class="line">    &#123;   <span class="keyword">return</span> id[p] == id[q];  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pid</span> <span class="operator">=</span> id[p];</span><br><span class="line">        <span class="type">int</span> <span class="variable">qid</span> <span class="operator">=</span> id[q];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; id.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (id[i] == pid)</span><br><span class="line">                id[i] = qid;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Data-Structure"><a href="#Data-Structure" class="headerlink" title="Data Structure"></a>Data Structure</h4><ul>
<li>Integer array <code>id[]</code> of length N.</li>
<li>Interpretation: <code>p</code> and <code>q</code> are connected <code>iff</code> they have the same id.</li>
</ul>
<h4 id="Find"><a href="#Find" class="headerlink" title="Find."></a>Find.</h4><p>Check if p and q have the same id.</p>
<h4 id="Union"><a href="#Union" class="headerlink" title="Union."></a>Union.</h4><p>To merge components containing <code>p</code> and <code>q</code>, change all entries whose id equals <code>id[p]</code> to <code>id[q]</code>.</p>
<h3 id="Quick-Find-is-too-slow"><a href="#Quick-Find-is-too-slow" class="headerlink" title="Quick-Find is too slow"></a>Quick-Find is too slow</h3><p><strong>Cost model.</strong> Number of array accesses (for read or write).</p>
<p><strong>order of growth of number of array accesses</strong>:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Algorithms</th>
<th>Initialize</th>
<th>Union</th>
<th>Find</th>
</tr>
</thead>
<tbody>
<tr>
<td>Quick-find</td>
<td>N</td>
<td>N</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Union is too expensive</strong> :It takes $N^2$ array accesses to process a sequence of $N$ union commands on $N$ objects.</p>
<h4 id="Quadratic-algorithms-do-not-scale"><a href="#Quadratic-algorithms-do-not-scale" class="headerlink" title="Quadratic algorithms do not scale"></a>Quadratic algorithms do not scale</h4><h2 id="‣-QUICK-UNION"><a href="#‣-QUICK-UNION" class="headerlink" title="‣ QUICK-UNION"></a>‣ QUICK-UNION</h2><h3 id="Lazy-approach"><a href="#Lazy-approach" class="headerlink" title="Lazy approach"></a>Lazy approach</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickUnionUF</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">QuickUnionUF</span><span class="params">(<span class="type">int</span> N)</span></span><br><span class="line">    &#123;		<span class="comment">// set id of each object to itself (N array accesses)</span></span><br><span class="line">        id = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) id[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">root</span><span class="params">(<span class="type">int</span> i)</span></span><br><span class="line">    &#123;		<span class="comment">// chase parent pointers until reach root (depth of i array accesses)</span></span><br><span class="line">        <span class="keyword">while</span> (i != id[i])  i = id[i];</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">connected</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span></span><br><span class="line">    <span class="comment">// check if p and q have same root (depth of p and q array accesses)</span></span><br><span class="line">    &#123;   <span class="keyword">return</span> root[p] == root[q];  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span></span><br><span class="line">    &#123;		<span class="comment">// change root of p to point to root of q (depth of p and q array accesses)</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> root(p);</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> root(q);</span><br><span class="line">        id[i] = j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Data-structure"><a href="#Data-structure" class="headerlink" title="Data structure"></a>Data structure</h4><ul>
<li>Integer array <code>id[]</code> of length <code>N</code>. </li>
<li>Interpretation: <code>id[i]</code> is parent of <code>i</code>. </li>
<li>Root of i is <code>id[id[id[...id[i]...]]]</code>(keep going until it doesn’t change (algorithm ensures no cycles))</li>
</ul>
<h4 id="Find-1"><a href="#Find-1" class="headerlink" title="Find."></a><strong>Find.</strong></h4><p>Check if p and q have the same root.</p>
<h4 id="Union-1"><a href="#Union-1" class="headerlink" title="Union."></a><strong>Union.</strong></h4><p>To merge components containing p and q, set the id of p’s root to the id of q’s root.</p>
<h3 id="Quick-union-is-also-too-slow"><a href="#Quick-union-is-also-too-slow" class="headerlink" title="Quick-union is also too slow"></a>Quick-union is also too slow</h3><p>Cost model. Number of array accesses (for read or write).</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Algorithms</th>
<th>Initialize</th>
<th>Union</th>
<th>Find</th>
</tr>
</thead>
<tbody>
<tr>
<td>Quick-find</td>
<td>N</td>
<td>N</td>
<td>1</td>
</tr>
<tr>
<td>Quick-union(worst case)</td>
<td>N</td>
<td>$N^†$($†$ includes cost of finding roots)</td>
<td>N</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Quick-find-defect"><a href="#Quick-find-defect" class="headerlink" title="Quick-find defect."></a>Quick-find defect.</h4><ul>
<li>Union too expensive ( $N$ array accesses).</li>
<li>Trees are flat, but too expensive to keep them flat.</li>
</ul>
<h4 id="Quick-union-defect"><a href="#Quick-union-defect" class="headerlink" title="Quick-union defect."></a>Quick-union defect.</h4><ul>
<li>Trees can get tall.</li>
<li>Find too expensive (could be <em>N</em> array accesses).</li>
</ul>
<h2 id="‣-IMPROVEMENT"><a href="#‣-IMPROVEMENT" class="headerlink" title="‣ IMPROVEMENT"></a>‣ IMPROVEMENT</h2><h3 id="1-Weighted-quick-union"><a href="#1-Weighted-quick-union" class="headerlink" title="1 Weighted quick-union."></a>1 Weighted quick-union.</h3><ul>
<li><p>Modify quick-union to avoid tall trees.</p>
</li>
<li><p>Keep track of size of each tree (number of objects).</p>
</li>
<li><p>Balance by linking root of smaller tree to root of larger tree.</p>
<blockquote>
<p>(reasonable alternatives: union by height or “rank”)</p>
</blockquote>
</li>
</ul>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/weight.png" alt="weight"></p>
<h4 id="Quick-union-and-weighted-quick-union-example"><a href="#Quick-union-and-weighted-quick-union-example" class="headerlink" title="Quick-union and weighted quick-union example"></a>Quick-union and weighted quick-union example</h4><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/quick-union.png" alt="quick-union"></p>
<h4 id="Weighted-quick-union-Java-implementation"><a href="#Weighted-quick-union-Java-implementation" class="headerlink" title="Weighted quick-union: Java implementation"></a>Weighted quick-union: Java implementation</h4><h5 id="Data-structure-1"><a href="#Data-structure-1" class="headerlink" title="Data structure."></a>Data structure.</h5><p>Same as quick-union, but maintain extra array <code>sz[i]</code> to count number of objects in the tree rooted at <code>i</code>.</p>
<h5 id="Find-2"><a href="#Find-2" class="headerlink" title="Find."></a>Find.</h5><p>Identical to quick-union. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> root(p) == root(q);</span><br></pre></td></tr></table></figure>
<h5 id="Union-2"><a href="#Union-2" class="headerlink" title="Union."></a>Union.</h5><p>Modify quick-union to:</p>
<ul>
<li>Link root of smaller tree to root of larger tree. </li>
<li>Update the <code>sz[]</code> array.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> root(p);</span><br><span class="line"><span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> root(q);</span><br><span class="line"><span class="keyword">if</span> (i == j) <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">if</span> (sz[i] &lt; sz[j])  &#123;   id[i] = j; sz[j] += sz[i];    &#125;</span><br><span class="line"><span class="keyword">else</span>                &#123;   id[j] = i; sz[i] += sz[j];    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="Weighted-quick-union-analysis"><a href="#Weighted-quick-union-analysis" class="headerlink" title="Weighted quick-union analysis"></a>Weighted quick-union analysis</h4><h5 id="Running-time"><a href="#Running-time" class="headerlink" title="Running time."></a>Running time.</h5><ul>
<li>Find: takes time proportional to depth of <em>p</em> and <em>q</em>. </li>
<li>Union: takes constant time, given roots.</li>
</ul>
<h5 id="Proposition-2"><a href="#Proposition-2" class="headerlink" title="Proposition."></a>Proposition.</h5><p>($lg=base-2$ logarithm) Depth of any node $x$ is at most $lgN$</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/log.png" alt="log"></p>
<h5 id="Pf-When-does-depth-of-x-increase"><a href="#Pf-When-does-depth-of-x-increase" class="headerlink" title="Pf. When does depth of x increase?"></a>Pf. When does depth of <em>x</em> increase?</h5><p>Increases by $1$ when tree $T_1$ containing $x$ is merged into another tree $T_2$.</p>
<ul>
<li><p>The size of the tree containing $x$ at least doubles since $|T_2|≥|T_1|$. </p>
</li>
<li><p>Size of tree containing $x$ can double at most $lgN$ times. Why?</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/log.png" alt="log"></p>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Algorithms</th>
<th>Initialize</th>
<th>Union</th>
<th>Find</th>
</tr>
</thead>
<tbody>
<tr>
<td>Quick-find</td>
<td>N</td>
<td>N</td>
<td>1</td>
</tr>
<tr>
<td>Quick-union(worst case)</td>
<td>N</td>
<td>$N^†$($†$ includes cost of finding roots)</td>
<td>N</td>
</tr>
<tr>
<td>weighted QU</td>
<td>N</td>
<td>$lgN^†$</td>
<td>$lgN$</td>
</tr>
</tbody>
</table>
</div>
<p>Q. Stop at guaranteed acceptable performance? </p>
<p>A. No, easy to improve further.</p>
<h3 id="Improvement-2-path-compression"><a href="#Improvement-2-path-compression" class="headerlink" title="Improvement 2: path compression"></a>Improvement 2: path compression</h3><h4 id="Quick-union-with-path-compression"><a href="#Quick-union-with-path-compression" class="headerlink" title="Quick union with path compression."></a>Quick union with path compression.</h4><p>Just after computing the root of <em>p</em>, set the id of each examined node to point to that root.</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/id.png" alt="id"></p>
<h4 id="Path-compression-Java-implementation"><a href="#Path-compression-Java-implementation" class="headerlink" title="Path compression: Java implementation"></a>Path compression: Java implementation</h4><h5 id="Two-pass-implementation"><a href="#Two-pass-implementation" class="headerlink" title="Two-pass implementation:"></a>Two-pass implementation:</h5><p>add second loop to root() to set the id[] of each examined node to the root.</p>
<h5 id="Simpler-one-pass-variant"><a href="#Simpler-one-pass-variant" class="headerlink" title="Simpler one-pass variant:"></a>Simpler one-pass variant:</h5><p>Make every other node in path point to its grandparent (thereby halving path length).</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">root</span><span class="params">(<span class="type">int</span> i)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (i != id[i]) </span><br><span class="line">    &#123;</span><br><span class="line">        id[i] = id[id[i]];  <span class="comment">// only one extra line of code !</span></span><br><span class="line">        i = id[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="In-practice"><a href="#In-practice" class="headerlink" title="In practice."></a>In practice.</h5><p>No reason not to! Keeps tree almost completely flat.</p>
<h4 id="Weighted-quick-union-with-path-compression-amortized-analysis"><a href="#Weighted-quick-union-with-path-compression-amortized-analysis" class="headerlink" title="Weighted quick-union with path compression: amortized analysis"></a>Weighted quick-union with path compression: amortized analysis</h4><h5 id="Proposition-Hopcroft-Ulman-Tarjan"><a href="#Proposition-Hopcroft-Ulman-Tarjan" class="headerlink" title="Proposition. |[Hopcroft-Ulman, Tarjan]"></a>Proposition. |[Hopcroft-Ulman, Tarjan]</h5><p>Starting from an empty data structure, any sequence of $M$ union-find ops on $N$ objects makes  $≤c\;(N+M\;lg*N)$ array accesses.</p>
<ul>
<li>Analysis can be improved to $N+M\;α(M,N)$. </li>
<li>Simple algorithm with fascinating mathematics.</li>
</ul>
<p><strong>iterate log function</strong>:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>N</th>
<th>lg* N</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
</tr>
<tr>
<td>16</td>
<td>3</td>
</tr>
<tr>
<td>65536</td>
<td>4</td>
</tr>
<tr>
<td>$2^{65536}$</td>
<td>5</td>
</tr>
</tbody>
</table>
</div>
<h5 id="Linear-time-algorithm-for-M-union-find-ops-on-N-objects"><a href="#Linear-time-algorithm-for-M-union-find-ops-on-N-objects" class="headerlink" title="Linear-time algorithm for M union-find ops on N objects?"></a>Linear-time algorithm for <em>M</em> union-find ops on <em>N</em> objects?</h5><ul>
<li>Cost within constant factor of reading in the data.</li>
<li>In theory, WQUPC is not quite linear.</li>
<li>In practice, WQUPC is linear.</li>
</ul>
<h5 id="Amazing-fact-Fredman-Saks"><a href="#Amazing-fact-Fredman-Saks" class="headerlink" title="Amazing fact. |[Fredman-Saks]"></a>Amazing fact. |[Fredman-Saks]</h5><blockquote>
<p>in “cell-probe” model of computation</p>
</blockquote>
<p>No linear-time algorithm exists</p>
<h4 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h4><h5 id="Bottom-line"><a href="#Bottom-line" class="headerlink" title="Bottom line."></a>Bottom line.</h5><p>Weighted quick union (with path compression) makes it possible to solve problems that could not otherwise be addressed.</p>
<h5 id="Ex-109-unions-and-finds-with-109-objects"><a href="#Ex-109-unions-and-finds-with-109-objects" class="headerlink" title="Ex. | [109 unions and finds with 109 objects]"></a>Ex. | [109 unions and finds with 109 objects]</h5><ul>
<li>WQUPC reduces time from 30 years to 6 seconds.</li>
<li>Supercomputer won’t help much; good algorithm enables solution.</li>
</ul>
<h2 id="‣-APPLICATIONS"><a href="#‣-APPLICATIONS" class="headerlink" title="‣ APPLICATIONS"></a>‣ APPLICATIONS</h2><h3 id="Union-find-applications"><a href="#Union-find-applications" class="headerlink" title="Union-find applications"></a>Union-find applications</h3><ul>
<li>Percolation.</li>
<li>Games (Go, Hex).</li>
<li>Dynamic connectivity.  ✓ </li>
<li>Least common ancestor.</li>
<li>Equivalence of finite state automata. </li>
<li>Hoshen-Kopelman algorithm in physics. </li>
<li>Hinley-Milner polymorphic type inference. </li>
<li>Kruskal’s minimum spanning tree algorithm. </li>
<li>Compiling equivalence statements in Fortran. </li>
<li>Morphological attribute openings and closings. </li>
<li>Matlab’s bwlabel() function in image processing.</li>
</ul>
<h3 id="Percolation"><a href="#Percolation" class="headerlink" title="Percolation"></a>Percolation</h3><h4 id="A-model-for-many-physical-systems"><a href="#A-model-for-many-physical-systems" class="headerlink" title="A model for many physical systems:"></a>A model for many physical systems:</h4><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/percolation.png" alt="percolation"></p>
<ul>
<li><em>N</em>-by-<em>N</em> grid of sites.</li>
<li>Each site is open with probability $p$ (or blocked with probability $1–p$). </li>
<li>System percolates <code>iff</code> top and bottom are connected by open sites.</li>
</ul>
<h4 id="Likelihood-of-percolation"><a href="#Likelihood-of-percolation" class="headerlink" title="Likelihood of percolation"></a>Likelihood of percolation</h4><blockquote>
<p>Depends on site vacancy probability <em>p</em>.</p>
</blockquote>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/perrcolations.png" alt="perrcolations"></p>
<h4 id="Percolation-phase-transition"><a href="#Percolation-phase-transition" class="headerlink" title="Percolation phase transition"></a>Percolation phase transition</h4><p>When $N$ is large, theory guarantees a sharp threshold $p^*$.</p>
<ul>
<li>$p&gt;p^*$: almost certainly percolates.</li>
<li>$p&lt;p^*$: almost certainly does not percolate.</li>
</ul>
<p>Q. What is the value of $p^*$ ?</p>
<p>A. About 0.592746 for large square lattices.</p>
<blockquote>
<p>constant known only via simulation</p>
</blockquote>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/p*.png" alt="p*"></p>
<h4 id="Monte-Carlo-simulation"><a href="#Monte-Carlo-simulation" class="headerlink" title="Monte Carlo simulation"></a>Monte Carlo simulation</h4><ul>
<li>Initialize $N-by-N$ whole grid to be blocked.</li>
<li>Declare random sites open until top connected to bottom. </li>
<li>Vacancy percentage estimates $p^*$.</li>
</ul>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/opensite.png" alt="opensite"></p>
<h4 id="Dynamic-connectivity-solution-to-estimate-percolation-threshold"><a href="#Dynamic-connectivity-solution-to-estimate-percolation-threshold" class="headerlink" title="Dynamic connectivity solution to estimate percolation threshold"></a>Dynamic connectivity solution to estimate percolation threshold</h4><h5 id="Q-How-to-check-whether-an-N-by-N-system-percolates"><a href="#Q-How-to-check-whether-an-N-by-N-system-percolates" class="headerlink" title="Q. How to check whether an N-by-N system percolates?"></a>Q. How to check whether an <em>N</em>-by-<em>N</em> system percolates?</h5><h5 id="Q-How-to-check-whether-an-N-by-N-system-percolates-1"><a href="#Q-How-to-check-whether-an-N-by-N-system-percolates-1" class="headerlink" title="Q. How to check whether an N-by-N system percolates?"></a>Q. How to check whether an <em>N</em>-by-<em>N</em> system percolates?</h5><ul>
<li><p>Create an object for each site and name them $0$ to $N^2–1$.</p>
</li>
<li><p>Sites are in same component if connected by open sites.</p>
</li>
<li><p>Percolates iff any site on bottom row is connected to site on top row.</p>
<blockquote>
<p>(brute-force algorithm: N 2 calls to connected())</p>
</blockquote>
</li>
</ul>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/top-down.png" alt="top-down"></p>
<h5 id="Clever-trick"><a href="#Clever-trick" class="headerlink" title="Clever trick."></a>Clever trick.</h5><ul>
<li><p>Introduce 2 virtual sites (and connections to top and bottom).</p>
</li>
<li><p>Percolates iff virtual top site is connected to virtual bottom site.</p>
<blockquote>
<p>(efficient algorithm: only 1 call to connected())</p>
</blockquote>
</li>
</ul>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/per.png" alt="per"></p>
<h5 id="Q-How-to-model-opening-a-new-site"><a href="#Q-How-to-model-opening-a-new-site" class="headerlink" title="Q. How to model opening a new site?"></a>Q. How to model opening a new site?</h5><p>A. Mark new site as open; connect it to all of its adjacent open sites.</p>
<blockquote>
<p>(up to 4 calls to union())</p>
</blockquote>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/perco.png" alt="perco"></p>
<h3 id="Percolation-Exercise"><a href="#Percolation-Exercise" class="headerlink" title="Percolation Exercise"></a>Percolation Exercise</h3><h4 id="Java-Environment"><a href="#Java-Environment" class="headerlink" title="Java Environment"></a>Java Environment</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.StdRandom;</span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.StdStats;</span><br><span class="line"><span class="keyword">import</span> edu.princeton.cs.algs4.WeightedQuickUnionUF;</span><br></pre></td></tr></table></figure>
<p>Note that <em>your</em> code must be in the <em>default package</em>; if you use a <code>package</code> statement, the autograder will reject your submission.</p>
<h4 id="Percolation-1"><a href="#Percolation-1" class="headerlink" title="Percolation."></a>Percolation.</h4><p>Given a composite systems comprised of randomly distributed insulating and metallic materials: what fraction of the materials need to be metallic so that the composite system is an electrical conductor? </p>
<p>Given a porous landscape with water on the surface (or oil below), under what conditions will the water be able to drain through to the bottom (or the oil to gush through to the surface)? </p>
<p>Scientists have defined an abstract process known as <em>percolation</em> to model such situations.</p>
<h4 id="The-model"><a href="#The-model" class="headerlink" title="The model."></a>The model.</h4><p>We model a percolation system using an <em>n</em>-by-<em>n</em> grid of <em>sites</em>.</p>
<p>Each site is either <em>open</em> or <em>blocked</em>. </p>
<p>A <em>full</em> site is an open site that can be connected to an open site in the top row via a chain of neighboring (left, right, up, down) open sites. We say the system <em>percolates</em> if there is a full site in the bottom row. </p>
<p>In other words, a system percolates if we fill all open sites connected to the top row and that process fills some open site on the bottom row. (For the insulating/metallic materials example, the open sites correspond to metallic materials, so that a system that percolates has a metallic path from top to bottom, with full sites conducting. </p>
<p>For the porous substance example, the open sites correspond to empty space through which water might flow, so that a system that percolates lets water fill open sites, flowing from top to bottom.)</p>
<h4 id="The-problem"><a href="#The-problem" class="headerlink" title="The problem."></a>The problem.</h4><p>In a famous scientific problem, researchers are interested in the following question: </p>
<p>if sites are independently set to be open with probability $p$ (and therefore blocked with probability $1−p$), what is the probability that the system percolates? When $p$ equals 0, the system does not percolate; when $p$ equals 1, the system percolates. </p>
<p>The plots below show the site vacancy probability $p$ versus the percolation probability for 20-by-20 random grid (left) and 100-by-100 random grid (right).</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/site-vacancy.png" alt="site-vacancy"></p>
<p>When <em>n</em> is sufficiently large, there is a <em>threshold</em> value $p^<em>$ such that when $p&lt;p^</em>$ a random <em>n</em>-by-<em>n</em> grid almost never percolates, and when $p&gt;p^<em>$, a random </em>n<em>-by-</em>n* grid almost always percolates.</p>
<p>No mathematical solution for determining the percolation threshold $p^<em>$ has yet been derived. Your task is to write a computer program to estimate $p^</em>$.</p>
<h4 id="Percolation-data-type"><a href="#Percolation-data-type" class="headerlink" title="Percolation data type."></a>Percolation data type.</h4><p>To model a percolation system, create a data type <code>Percolation</code> with the following API:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Percolation</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// creates n-by-n grid, with all sites initially blocked</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Percolation</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// opens the site (row, col) if it is not open already</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">open</span><span class="params">(<span class="type">int</span> row, <span class="type">int</span> col)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// is the site (row, col) open?</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isOpen</span><span class="params">(<span class="type">int</span> row, <span class="type">int</span> col)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// is the site (row, col) full?</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isFull</span><span class="params">(<span class="type">int</span> row, <span class="type">int</span> col)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// returns the number of open sites</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numberOfOpenSites</span><span class="params">()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// does the system percolate?</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">percolates</span><span class="params">()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// test client (optional)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Corner-cases"><a href="#Corner-cases" class="headerlink" title="Corner cases."></a>Corner cases.</h5><p>By convention, the row and column indices are integers between 1 and $n$, where $(1,1)$ is the upper-left site: Throw an <code>IllegalArgumentException</code> if any argument to <code>open()</code>, <code>isOpen()</code>, or <code>isFull()</code> is outside its prescribed range. </p>
<p>Throw an <code>IllegalArgumentException</code> in the constructor if $n≤0$.</p>
<h5 id="Performance-requirements"><a href="#Performance-requirements" class="headerlink" title="Performance requirements."></a>Performance requirements.</h5><p>The constructor must take time proportional to <em>n</em>2; all instance methods must take constant time plus a constant number of calls to <code>union()</code> and <code>find()</code>.</p>
<h4 id="Monte-Carlo-simulation-1"><a href="#Monte-Carlo-simulation-1" class="headerlink" title="Monte Carlo simulation."></a>Monte Carlo simulation.</h4><p>To estimate the percolation threshold, consider the following computational experiment:</p>
<ul>
<li>Initialize all sites to be blocked.</li>
<li>Repeat the following until the system percolates:</li>
<li>Choose a site uniformly at random among all blocked sites.</li>
<li>Open the site.</li>
<li>The fraction of sites that are opened when the system percolates provides an estimate of the percolation threshold.</li>
</ul>
<p>For example, if sites are opened in a 20-by-20 lattice according to the snapshots below, then our estimate of the percolation threshold is 204/400 = 0.51 because the system percolates when the 204th site is opened.</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/Users/zenn/zennlyu.github.io/hexo/source/_posts/opensites.png" alt="opensites"></p>
<p>By repeating this computation experiment <em>T</em> times and averaging the results, we obtain a more accurate estimate of the percolation threshold. Let <em>xt</em> be the fraction of open sites in computational experiment <em>t</em>. The sample mean x⎯⎯⎯x¯ provides an estimate of the percolation threshold; the sample standard deviation <em>s</em>; measures the sharpness of the threshold.</p>
<script type="math/tex; mode=display">\begin{align} \overline{x}=\frac{x_1+x_2+...+x_T}{T}, \tag{1}s^2=\frac{(x_1-\overline{x})^2+(x_2-\overline{x})^2+...+(x_T-\overline{x})^2}{T-1} \end{align}</script><p>Assuming <em>T</em> is sufficiently large (say, at least 30), the following provides a 95% confidence interval for the percolation threshold:</p>
<script type="math/tex; mode=display">\begin{align} \overline{x}-\frac{1.96s}{\sqrt{T}}, \tag{2}\overline{x}+\frac{1.96s}{\sqrt{T}}, \end{align}</script><p>To perform a series of computational experiments, create a data type <code>PercolationStats</code> with the following API.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PercolationStats</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// perform independent trials on an n-by-n grid</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">PercolationStats</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> trials)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// sample mean of percolation threshold</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">mean</span><span class="params">()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// sample standard deviation of percolation threshold</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">stddev</span><span class="params">()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// low endpoint of 95% confidence interval</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">confidenceLo</span><span class="params">()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// high endpoint of 95% confidence interval</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">confidenceHi</span><span class="params">()</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// test client (see below)</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Throw an <code>IllegalArgumentException</code> in the constructor if either <em>n</em> ≤ 0 or <em>trials</em> ≤ 0.</p>
<p>Also, include a <code>main()</code> method that takes two <em>command-line arguments</em> <em>n</em> and <em>T</em>, performs <em>T</em> independent computational experiments (discussed above) on an <em>n</em>-by-<em>n</em> grid, and prints the sample mean, sample standard deviation, and the <strong>95% confidence interval</strong> for the percolation threshold. Use <a target="_blank" rel="noopener" href="https://algs4.cs.princeton.edu/code/javadoc/edu/princeton/cs/algs4/StdRandom.html"><code>StdRandom</code></a> to generate random numbers; use <a target="_blank" rel="noopener" href="https://algs4.cs.princeton.edu/code/javadoc/edu/princeton/cs/algs4/StdStats.html"><code>StdStats</code></a> to compute the sample mean and sample standard deviation.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">~/Desktop/percolation&gt; </span><span class="language-bash">java-algs4 PercolationStats 200 100</span></span><br><span class="line">mean                    = 0.5929934999999997</span><br><span class="line">stddev                  = 0.00876990421552567</span><br><span class="line"><span class="meta prompt_">95% </span><span class="language-bash">confidence interval = [0.5912745987737567, 0.5947124012262428]</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">~/Desktop/percolation&gt; </span><span class="language-bash">java-algs4 PercolationStats 200 100</span></span><br><span class="line">mean                    = 0.592877</span><br><span class="line">stddev                  = 0.009990523717073799</span><br><span class="line"><span class="meta prompt_">95% </span><span class="language-bash">confidence interval = [0.5909188573514536, 0.5948351426485464]</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">~/Desktop/percolation&gt; </span><span class="language-bash">java-algs4 PercolationStats 2 10000</span></span><br><span class="line">mean                    = 0.666925</span><br><span class="line">stddev                  = 0.11776536521033558</span><br><span class="line"><span class="meta prompt_">95% </span><span class="language-bash">confidence interval = [0.6646167988418774, 0.6692332011581226]</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">~/Desktop/percolation&gt; </span><span class="language-bash">java-algs4 PercolationStats 2 100000</span></span><br><span class="line">mean                    = 0.6669475</span><br><span class="line">stddev                  = 0.11775205263262094</span><br><span class="line"><span class="meta prompt_">95% </span><span class="language-bash">confidence interval = [0.666217665216461, 0.6676773347835391]</span></span><br></pre></td></tr></table></figure>
<h4 id="Analysis-of-running-time-and-memory-usage-optional-and-not-graded"><a href="#Analysis-of-running-time-and-memory-usage-optional-and-not-graded" class="headerlink" title="Analysis of running time and memory usage (optional and not graded)."></a>Analysis of running time and memory usage (optional and not graded).</h4><blockquote>
<p>Implement the Percolation data type using the quick find algorithm in QuickFindUF.</p>
</blockquote>
<p>Use Stopwatch to measure the total running time of PercolationStats for various values of n and T. </p>
<ul>
<li>How does doubling n affect the total running time? </li>
<li><p>How does doubling T affect the total running time? </p>
</li>
<li><p>Give a formula (using tilde notation) of the total running time on your computer (in seconds) as a single function of both n and T.</p>
</li>
<li>Using the 64-bit memory-cost model from lecture, give the total memory usage in bytes (using tilde notation) that a Percolation object uses to model an n-by-n percolation system.</li>
<li>Count all memory that is used, including memory for the union–find data structure.</li>
</ul>
<p>Now, implement the Percolation data type using the weighted quick union algorithm in WeightedQuickUnionUF. Answer the questions in the previous paragraph.</p>


<div class="article-footer reveal fs14"><section id="license"><div class="header"><span>License</span></div><div class="body"><p>本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div></section></div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="header cap theme"><span>READ NEXT</span></section><section class="body fs14"><a id="next" href="/2024/07/15/What-open-courses-I-plan-to-take/">Fever's Notes on Open Courses<span class="note">Older</span></a><div class="line"></div><a id="prev" href="/2024/07/15/swidish/">Colloquial Swedish Notes<span class="note">Newer</span></a></section></div>








      
<footer class="page-footer reveal fs12"><hr><div class="text"><p>All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</p>
<p>This site was deployed by <a href="http://example.com/">@zennlyu</a> using <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.8.0" title="v1.8.0">Stellar</a>.</p>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.8.0';
  stellar.config = {
    date_suffix: {
      just: 'Just',
      min: 'minutes ago',
      hour: 'hours ago',
      day: 'days ago',
      month: 'months ago',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://fastly.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js',
    sitesjs: '/js/plugins/sites.js',
    friendsjs: '/js/plugins/friends.js',
  };

  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://fastly.jsdelivr.net/npm/vanilla-lazyload@17.3.1/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@6/swiper-bundle.min.css","js":"https://unpkg.com/swiper@6/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://fastly.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://fastly.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://fastly.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://fastly.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://fastly.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti/umd/heti.min.css","js":"https://unpkg.com/heti/umd/heti-addon.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->



<!-- inject -->


  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
